.d-flex.justify-content-between.align-items-center.mb-3
  .d-flex.align-items-center
    = link_to projects_path, class: "btn btn-outline-secondary btn-sm me-3" do
      %i.bi.bi-arrow-left
    %div
      %h4.h5.mb-1= @project.title
      %span.badge.bg-light.text-dark.small= @project.organization.name
  .d-flex.gap-2
    = link_to project_path(@project), class: "btn btn-outline-dark btn-sm" do
      %i.bi.bi-list.me-1
      List View
    = link_to edit_project_path(@project), class: "btn btn-outline-dark btn-sm" do
      %i.bi.bi-pencil.me-1
      Edit

- if @project.description.present?
  .card.shadow-sm.mb-3
    .card-body.py-2
      %small.text-muted= @project.description

.d-flex.justify-content-between.align-items-center.mb-3
  %h5.mb-0
    %i.bi.bi-kanban.me-2
    Kanban Board
    %span.badge.bg-secondary.ms-2{ id: "task_count" }= @tasks.count
  = link_to new_task_path(project_id: @project.id), class: "btn btn-dark btn-sm", data: { turbo_frame: dom_id(Task.new) } do
    %i.bi.bi-plus-lg.me-1
    New Task

= turbo_frame_tag Task.new

= render "projects/kanban_board", project: @project, tasks: @tasks, todo_tasks: @todo_tasks, in_progress_tasks: @in_progress_tasks, done_tasks: @done_tasks

= turbo_frame_tag "edit_task"
