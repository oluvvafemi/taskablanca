.d-flex.justify-content-between.align-items-center.mb-4
  %h1.h3.mb-0 Projects
  = link_to new_project_path, class: "btn btn-dark" do
    %i.bi.bi-plus-lg.me-1
    New Project

- if @projects.any?
  .row.g-4
    - @projects.each do |project|
      .col-12.col-md-6.col-lg-4
        .card.shadow-sm.h-100
          .card-body
            .d-flex.justify-content-between.align-items-start.mb-3
              %h5.card-title.mb-0= project.title
              %span.badge.bg-light.text-dark= project.organization.name
            %p.card-text.text-muted= truncate(project.description, length: 100)
            .d-flex.justify-content-between.align-items-center.mt-3
              %small.text-muted
                %i.bi.bi-list-task.me-1
                = "#{project.tasks.count} tasks"
              .d-flex.gap-2
                = link_to project_path(project), class: "btn btn-sm btn-outline-dark" do
                  %i.bi.bi-list.me-1
                  List
                = link_to kanban_project_path(project), class: "btn btn-sm btn-outline-primary" do
                  %i.bi.bi-kanban.me-1
                  Kanban
- else
  .card.shadow-sm
    .card-body.text-center.py-5
      %i.bi.bi-folder.fs-1.text-muted.mb-3
      %p.text-muted.mb-0 No projects yet.
