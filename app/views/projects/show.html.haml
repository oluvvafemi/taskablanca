.d-flex.justify-content-between.align-items-center.mb-4
  .d-flex.align-items-center
    = link_to projects_path, class: "btn btn-outline-secondary btn-sm me-3" do
      %i.bi.bi-arrow-left
    %div
      %h1.h3.mb-1= @project.title
      %span.badge.bg-light.text-dark= @project.organization.name
  .d-flex.gap-2
    = link_to edit_project_path(@project), class: "btn btn-outline-dark" do
      %i.bi.bi-pencil.me-1
      Edit
    = button_to project_path(@project), method: :delete, class: "btn btn-outline-danger", form: { data: { turbo_confirm: "Are you sure you want to delete this project? All tasks will be deleted too." } } do
      %i.bi.bi-trash.me-1
      Delete

.card.shadow-sm.mb-4
  .card-body
    %h5.card-title Description
    %p.card-text= @project.description || "No description provided."

.d-flex.justify-content-between.align-items-center.mb-3
  %h5.mb-0
    %i.bi.bi-list-task.me-2
    Tasks
    %span.badge.bg-secondary.ms-2= @tasks.count
  = link_to new_task_path(project_id: @project.id), class: "btn btn-dark btn-sm", data: { turbo_frame: dom_id(Task.new) } do
    %i.bi.bi-plus-lg.me-1
    New Task

= turbo_frame_tag Task.new

= turbo_frame_tag "tasks" do
  = render "tasks/tasks_list", tasks: @tasks, project: @project

